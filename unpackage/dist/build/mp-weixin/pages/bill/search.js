(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bill/search"],{"485c":function(t,n,e){"use strict";var i,o=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}))},"67b9":function(t,n,e){},7386:function(t,n,e){"use strict";e.r(n);var i=e("7aca"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},"7aca":function(t,n,e){"use strict";(function(t,i){function o(t){return r(t)||s(t)||u(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,n){if(t){if("string"===typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,n):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return c(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l,d=function(){Promise.all([e.e("common/vendor"),e.e("node-modules/_@dcloudio_uni-ui@1.1.8@@dcloudio/uni-ui/lib/uni-icons/uni-icons")]).then(function(){return resolve(e("cc1c"))}.bind(null,e)).catch(e.oe)},h=function(){e.e("node-modules/_@dcloudio_uni-ui@1.1.8@@dcloudio/uni-ui/lib/uni-load-more/uni-load-more").then(function(){return resolve(e("bbd0"))}.bind(null,e)).catch(e.oe)},f=function(){e.e("node-modules/_@dcloudio_uni-ui@1.1.8@@dcloudio/uni-ui/lib/uni-popup/uni-popup").then(function(){return resolve(e("b50e"))}.bind(null,e)).catch(e.oe)},p=function(){e.e("node-modules/_@dcloudio_uni-ui@1.1.8@@dcloudio/uni-ui/lib/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("fc91"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("node-modules/_@dcloudio_uni-ui@1.1.8@@dcloudio/uni-ui/lib/uni-list-item/uni-list-item").then(function(){return resolve(e("8f42"))}.bind(null,e)).catch(e.oe)},g=function(){e.e("node-modules/_@dcloudio_uni-ui@1.1.8@@dcloudio/uni-ui/lib/uni-list/uni-list").then(function(){return resolve(e("c806"))}.bind(null,e)).catch(e.oe)},v={components:{uniList:g,uniListItem:m,uniNavBar:p,uniPopup:f,uniLoadMore:h,uniIcons:d},onLoad:function(t){t.label?(this.valueInput=t.label,this.isfocus=!1,this.search()):this.getkeys()},data:function(){return{inds:"",imgUrl:"",pageNum:0,Token:t.getStorageSync("userId")||"",isnull:!1,isfocus:!0,issearch:!0,issearch_log:!0,opearObj:{},valueInput:"",keys:[],search_keys:[],listData:{},status:"more",showLoadMore:!1,loadMoreText:"加载中..."}},onUnload:function(){this.listData={},this.pageNum=0,this.status="more",this.showLoadMore=!1},onReachBottom:function(){this.pageNum+=1,100*this.pageNum>this.listData.total?t.showToast({icon:"none",duration:2e3,title:"没有更多数据了"}):(this.status="loading",this.showLoadMore=!0,this.search())},onPullDownRefresh:function(){this.status="loading",this.showLoadMore=!0,this.pageNum=0,this.search()},methods:{toback:function(){t.navigateBack({delta:1})},inputValue:function(n){var e=this,i=n.target.value,o=0;l&&clearInterval(l),!i&&this.isnull&&(this.showLoadMore=!1,this.isnull=!1),l=setInterval((function(){if(o++,30===o&&i){e.valueInput=i,e.pageNum=0,e.keys.push(e.valueInput);var a=e.keys.join(",");clearInterval(l);try{t.setStorageSync("search_key",a)}catch(n){}e.pageNum=0,e.search()}}),50)},search:function(){var n=this;this.issearch&&(this.issearch=!1,this.isfocus=!1,t.showLoading({title:"数据加载中..."}),i.callFunction({name:"get",data:{token:this.Token,pageNum:this.pageNum,label:this.valueInput}}).then((function(e){if(t.hideLoading(),console.log(e),n.issearch=!0,n.showLoadMore=!1,n.issearch_log=!1,-1!=e.result.status)if(e.result.total>0){n.isnull=!1;var i=o(e.result.list);0==n.pageNum?n.listData=e.result:n.listData.list=n.listData.list.concat(i)}else{0==n.pageNum&&(n.listData={},n.isnull=!0);var a=n.pageNum>0?"没有更多数据了":e.result.data.msg;t.showToast({icon:"none",duration:2e3,title:a})}else n.isnull=!0})).catch((function(e){t.hideLoading(),n.issearch=!0,n.isnull=!1,t.showToast({icon:"none",duration:2e3,title:"未查询到相关信息"})})))},getkeys:function(){try{var n=t.getStorageSync("search_key");if(n){var e=n.split(",");this.keys=Array.from(new Set(e))}}catch(i){}},handlesey:function(t){this.valueInput=t,this.search()},handledel:function(n,e){this.keys.splice(e,1);var i=this.keys.join(",");try{t.setStorageSync("search_key",i)}catch(o){}},clearAll:function(){this.keys=[];try{t.setStorageSync("search_key","")}catch(n){}},onshowproof:function(t){this.imgUrl=t,this.$refs.picture.open()},handleItem:function(n){t.navigateTo({url:"./details?id="+n})},handleLong:function(t,n){this.inds=n,this.opearObj=t,this.$refs.searchPopup.open()},moreOper:function(n){var e=this;1==n?this.handleItem(this.opearObj._id):t.showModal({title:"提示",content:"是否确认删除此条数据？",success:function(n){n.confirm?(t.showLoading({title:"数据删除中..."}),i.callFunction({name:"remove",data:{dataId:e.opearObj._id}}).then((function(n){t.hideLoading(),t.showToast({title:n.result.msg,duration:2e3}),e.listData.list.splice(e.inds,1)})).catch((function(n){t.hideLoading(),t.showModal({content:"操作失败，请重新操作",showCancel:!1}),console.error(n)}))):n.cancel&&console.log("用户点击取消")}}),this.$refs.searchPopup.close()}},created:function(){}};n.default=v}).call(this,e("543d")["default"],e("a9ff")["default"])},"7ecf":function(t,n,e){"use strict";e.r(n);var i=e("485c"),o=e("7386");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("8ce1");var u,s=e("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"203855b1",null,!1,i["a"],u);n["default"]=r.exports},"8ce1":function(t,n,e){"use strict";var i=e("67b9"),o=e.n(i);o.a},e713:function(t,n,e){"use strict";(function(t){e("99cf"),e("921b");i(e("66fd"));var n=i(e("7ecf"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])}},[["e713","common/runtime","common/vendor"]]]);